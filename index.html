<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEON MEMORIES ‚Ä¢ Retro Photo Editor</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=VT323&family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="text-white min-h-screen">
    <!-- Background elements -->
    <div class="bg-grid"></div>
    <div class="retro-sun"></div>
    <div class="perspective-grid"></div>
    
    <!-- Header -->
    <header class="relative z-10 px-3 sm:px-6 py-3 sm:py-4 border-b border-pink-500/20">
        <div class="max-w-screen-2xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-2 sm:gap-4">
                <div class="text-2xl sm:text-3xl">üìº</div>
                <div>
                    <h1 class="text-lg sm:text-2xl font-black text-pink-400 neon-text-pink tracking-wider flicker">NEON MEMORIES</h1>
                    <p class="vhs-font text-xs sm:text-sm text-cyan-400 opacity-80 hidden sm:block">RETRO PHOTO EDITOR ‚Ä¢ EST. 1985</p>
                </div>
            </div>
            
            <div class="flex items-center gap-2 sm:gap-4">
                <div class="vhs-display hidden md:block">
                    <span id="timestamp">JAN 01 1989 00:00:00</span>
                </div>
                <div class="flex items-center gap-1 sm:gap-2">
                    <button onclick="undo()" id="undoBtn" class="history-btn vhs-font" disabled>
                        ‚Ü∂ <span class="hidden sm:inline">UNDO</span>
                    </button>
                    <button onclick="redo()" id="redoBtn" class="history-btn vhs-font" disabled>
                        <span class="hidden sm:inline">REDO</span> ‚Ü∑
                    </button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <main class="relative z-10 max-w-screen-2xl mx-auto p-3 sm:p-4 lg:p-6">
        <div class="grid lg:grid-cols-12 gap-4 lg:gap-6">
            
            <!-- Left Sidebar - Tools (Desktop only) -->
            <aside class="lg:col-span-3 xl:col-span-2 desktop-sidebar">
                <div class="glass-panel p-4 space-y-4 sticky top-4">
                    <h2 class="vhs-font text-xl text-cyan-400 neon-text-blue flex items-center gap-2">
                        <span>üîß</span> TOOLS
                    </h2>
                    
                    <!-- Transform Tools -->
                    <div class="tool-section p-3">
                        <h3 class="vhs-font text-sm text-pink-400 mb-3">TRANSFORM</h3>
                        <div class="grid grid-cols-4 gap-2">
                            <button onclick="rotateImage(-90)" class="btn-icon">‚Ü∫</button>
                            <button onclick="rotateImage(90)" class="btn-icon">‚Üª</button>
                            <button onclick="flipImage('h')" class="btn-icon">‚áÜ</button>
                            <button onclick="flipImage('v')" class="btn-icon">‚áÖ</button>
                        </div>
                    </div>
                    
                    <!-- Drawing Tools -->
                    <div class="tool-section p-3">
                        <h3 class="vhs-font text-sm text-pink-400 mb-3">DRAW</h3>
                        <div class="flex items-center gap-2 mb-3">
                            <button onclick="setTool('brush')" class="btn-icon flex-1" id="brushTool">üñåÔ∏è</button>
                            <button onclick="setTool('eraser')" class="btn-icon flex-1" id="eraserTool">üßπ</button>
                            <div class="color-picker-wrapper">
                                <input type="color" id="brushColor" value="#ff2a6d">
                            </div>
                        </div>
                        <div class="slider-wrapper">
                            <label class="vhs-font text-xs text-gray-400">BRUSH SIZE</label>
                            <input type="range" id="brushSize" min="1" max="50" value="5">
                        </div>
                    </div>
                    
                    <!-- Text Tool -->
                    <div class="tool-section p-3">
                        <h3 class="vhs-font text-sm text-pink-400 mb-3">TEXT</h3>
                        <input type="text" id="textInput" placeholder="Enter text..." 
                            class="w-full bg-black/50 border border-cyan-500/30 rounded px-3 py-2 text-sm mb-2 focus:border-pink-500 focus:outline-none">
                        <div class="flex gap-2 mb-2">
                            <select id="textFont" class="flex-1 bg-black/50 border border-cyan-500/30 rounded px-2 py-2 text-xs">
                                <option value="VT323">VHS</option>
                                <option value="Orbitron">RETRO</option>
                                <option value="Press Start 2P">PIXEL</option>
                            </select>
                            <input type="number" id="textSize" value="32" min="8" max="120" 
                                class="w-16 bg-black/50 border border-cyan-500/30 rounded px-2 py-2 text-xs">
                        </div>
                        <button onclick="addText()" class="btn-neon w-full">ADD TEXT</button>
                    </div>
                </div>
            </aside>
            
            <!-- Center - Canvas -->
            <section class="lg:col-span-6 xl:col-span-7">
                <div class="glass-panel p-3 sm:p-4">
                    <!-- Toolbar -->
                    <div class="flex items-center justify-between mb-3 sm:mb-4 flex-wrap gap-2">
                        <div class="flex items-center gap-1 sm:gap-2">
                            <button onclick="zoomCanvas(-0.1)" class="btn-icon text-sm w-10 h-10 sm:w-11 sm:h-11">‚àí</button>
                            <span class="vhs-font text-cyan-400 min-w-[50px] sm:min-w-[60px] text-center text-sm" id="zoomLevel">100%</span>
                            <button onclick="zoomCanvas(0.1)" class="btn-icon text-sm w-10 h-10 sm:w-11 sm:h-11">+</button>
                            <button onclick="resetZoom()" class="btn-icon text-sm w-10 h-10 sm:w-11 sm:h-11">‚ü≤</button>
                        </div>
                        <div class="flex items-center gap-2">
                            <button onclick="document.getElementById('fileInput').click()" class="btn-primary text-xs sm:text-sm">
                                üìÅ <span class="hidden xs:inline">LOAD</span> IMAGE
                            </button>
                            <input type="file" id="fileInput" accept="image/*" class="hidden">
                        </div>
                    </div>
                    
                    <!-- Canvas Container -->
                    <div class="canvas-wrapper scanlines relative min-h-[250px] sm:min-h-[350px] lg:min-h-[450px] flex items-center justify-center" 
                         id="canvasContainer">
                        <canvas id="photoCanvas" class="max-w-full max-h-full hidden"></canvas>
                        
                        <!-- Upload Prompt -->
                        <div id="uploadPrompt" class="upload-zone absolute inset-2 sm:inset-4 flex flex-col items-center justify-center p-4">
                            <div class="text-5xl sm:text-6xl mb-3 sm:mb-4 animate-bounce">üì∏</div>
                            <p class="vhs-font text-lg sm:text-2xl text-cyan-400 mb-1 sm:mb-2 text-center">DROP YOUR PHOTO HERE</p>
                            <p class="vhs-font text-sm sm:text-lg text-pink-400 text-center">or tap LOAD IMAGE above</p>
                            <div class="mt-4 sm:mt-6 flex gap-2 sm:gap-4 vhs-font text-xs sm:text-sm text-gray-500">
                                <span>JPG</span>
                                <span>‚Ä¢</span>
                                <span>PNG</span>
                                <span>‚Ä¢</span>
                                <span>GIF</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bottom Actions -->
                    <div class="flex items-center justify-between mt-3 sm:mt-4 flex-wrap gap-3">
                        <div class="flex items-center gap-2 vhs-font text-xs sm:text-sm text-gray-400">
                            <span id="imageInfo">No image loaded</span>
                        </div>
                        <div class="flex items-center gap-2 flex-wrap">
                            <button onclick="resetImage()" class="btn-neon text-xs sm:text-sm">‚Ü∫ RESET</button>
                            <button onclick="downloadImage('png')" class="btn-primary text-xs sm:text-sm">üíæ SAVE</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Right Sidebar - Effects & Adjustments (Desktop only) -->
            <aside class="lg:col-span-3 desktop-sidebar">
                <div class="glass-panel p-4 sticky top-4">
                    <!-- Tabs -->
                    <div class="flex border-b border-pink-500/20 mb-4 overflow-x-auto hide-scrollbar">
                        <button onclick="switchTab('adjust')" class="tab-btn active" id="tabAdjust">ADJUST</button>
                        <button onclick="switchTab('effects')" class="tab-btn" id="tabEffects">EFFECTS</button>
                        <button onclick="switchTab('vintage')" class="tab-btn" id="tabVintage">VINTAGE</button>
                        <button onclick="switchTab('frames')" class="tab-btn" id="tabFrames">FRAMES</button>
                    </div>
                    
                    <!-- Adjust Panel -->
                    <div id="panelAdjust" class="space-y-4 max-h-[55vh] overflow-y-auto pr-2">
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">BRIGHTNESS</label>
                                <span class="vhs-font text-xs text-cyan-400" id="brightnessVal">0</span>
                            </div>
                            <input type="range" id="brightness" min="-100" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">CONTRAST</label>
                                <span class="vhs-font text-xs text-cyan-400" id="contrastVal">0</span>
                            </div>
                            <input type="range" id="contrast" min="-100" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">SATURATION</label>
                                <span class="vhs-font text-xs text-cyan-400" id="saturationVal">0</span>
                            </div>
                            <input type="range" id="saturation" min="-100" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">EXPOSURE</label>
                                <span class="vhs-font text-xs text-cyan-400" id="exposureVal">0</span>
                            </div>
                            <input type="range" id="exposure" min="-100" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">TEMPERATURE</label>
                                <span class="vhs-font text-xs text-cyan-400" id="temperatureVal">0</span>
                            </div>
                            <input type="range" id="temperature" min="-100" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">TINT</label>
                                <span class="vhs-font text-xs text-cyan-400" id="tintVal">0</span>
                            </div>
                            <input type="range" id="tint" min="-100" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">VIGNETTE</label>
                                <span class="vhs-font text-xs text-cyan-400" id="vignetteVal">0</span>
                            </div>
                            <input type="range" id="vignette" min="0" max="100" value="0" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">BLUR</label>
                                <span class="vhs-font text-xs text-cyan-400" id="blurVal">0</span>
                            </div>
                            <input type="range" id="blur" min="0" max="20" value="0" step="0.5" oninput="updateAdjustments()">
                        </div>
                        
                        <div class="slider-wrapper">
                            <div class="flex justify-between mb-1">
                                <label class="vhs-font text-sm text-pink-400">HUE ROTATE</label>
                                <span class="vhs-font text-xs text-cyan-400" id="hueVal">0¬∞</span>
                            </div>
                            <input type="range" id="hue" min="0" max="360" value="0" oninput="updateAdjustments()">
                        </div>
                    </div>
                    
                    <!-- Effects Panel -->
                    <div id="panelEffects" class="hidden grid grid-cols-2 gap-2 max-h-[55vh] overflow-y-auto pr-2">
                        <div class="effect-card" onclick="applyEffect('vhs')">
                            <div class="text-2xl mb-1">üìº</div>
                            <div class="vhs-font text-xs">VHS</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('glitch')">
                            <div class="text-2xl mb-1">üëæ</div>
                            <div class="vhs-font text-xs">GLITCH</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('scanlines')">
                            <div class="text-2xl mb-1">üì∫</div>
                            <div class="vhs-font text-xs">SCANLINES</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('chromatic')">
                            <div class="text-2xl mb-1">üåà</div>
                            <div class="vhs-font text-xs">RGB SPLIT</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('pixelate')">
                            <div class="text-2xl mb-1">üéÆ</div>
                            <div class="vhs-font text-xs">8-BIT</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('neon')">
                            <div class="text-2xl mb-1">üíú</div>
                            <div class="vhs-font text-xs">NEON</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('cyberpunk')">
                            <div class="text-2xl mb-1">üåÉ</div>
                            <div class="vhs-font text-xs">CYBER</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('synthwave')">
                            <div class="text-2xl mb-1">üåÖ</div>
                            <div class="vhs-font text-xs">SYNTH</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('vaporwave')">
                            <div class="text-2xl mb-1">üå¥</div>
                            <div class="vhs-font text-xs">VAPOR</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('miami')">
                            <div class="text-2xl mb-1">üèñÔ∏è</div>
                            <div class="vhs-font text-xs">MIAMI</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('tokyo')">
                            <div class="text-2xl mb-1">üóº</div>
                            <div class="vhs-font text-xs">TOKYO</div>
                        </div>
                        <div class="effect-card" onclick="applyEffect('duotone')">
                            <div class="text-2xl mb-1">üé®</div>
                            <div class="vhs-font text-xs">DUOTONE</div>
                        </div>
                    </div>
                    
                    <!-- Vintage Panel -->
                    <div id="panelVintage" class="hidden grid grid-cols-2 gap-2 max-h-[55vh] overflow-y-auto pr-2">
                        <div class="effect-card" onclick="applyVintage('sepia')">
                            <div class="text-2xl mb-1">üü§</div>
                            <div class="vhs-font text-xs">SEPIA</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('faded')">
                            <div class="text-2xl mb-1">üå´Ô∏è</div>
                            <div class="vhs-font text-xs">FADED</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('polaroid')">
                            <div class="text-2xl mb-1">üì∑</div>
                            <div class="vhs-font text-xs">POLAROID</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('kodak')">
                            <div class="text-2xl mb-1">üéûÔ∏è</div>
                            <div class="vhs-font text-xs">KODAK</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('grain')">
                            <div class="text-2xl mb-1">‚ú®</div>
                            <div class="vhs-font text-xs">GRAIN</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('dusty')">
                            <div class="text-2xl mb-1">üí®</div>
                            <div class="vhs-font text-xs">DUSTY</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('lightleak')">
                            <div class="text-2xl mb-1">‚òÄÔ∏è</div>
                            <div class="vhs-font text-xs">LEAK</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('oldphoto')">
                            <div class="text-2xl mb-1">üñºÔ∏è</div>
                            <div class="vhs-font text-xs">OLD</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('1970s')">
                            <div class="text-2xl mb-1">üï∫</div>
                            <div class="vhs-font text-xs">1970s</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('1980s')">
                            <div class="text-2xl mb-1">üíø</div>
                            <div class="vhs-font text-xs">1980s</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('1990s')">
                            <div class="text-2xl mb-1">üíæ</div>
                            <div class="vhs-font text-xs">1990s</div>
                        </div>
                        <div class="effect-card" onclick="applyVintage('daguerreotype')">
                            <div class="text-2xl mb-1">üèõÔ∏è</div>
                            <div class="vhs-font text-xs">ANTIQUE</div>
                        </div>
                    </div>
                    
                    <!-- Frames Panel -->
                    <div id="panelFrames" class="hidden space-y-3 max-h-[55vh] overflow-y-auto pr-2">
                        <div class="grid grid-cols-2 gap-2">
                            <div class="effect-card" onclick="applyFrame('vhsFrame')">
                                <div class="text-2xl mb-1">üìº</div>
                                <div class="vhs-font text-xs">VHS</div>
                            </div>
                            <div class="effect-card" onclick="applyFrame('polaroidFrame')">
                                <div class="text-2xl mb-1">üñºÔ∏è</div>
                                <div class="vhs-font text-xs">POLAROID</div>
                            </div>
                            <div class="effect-card" onclick="applyFrame('neonBorder')">
                                <div class="text-2xl mb-1">üí†</div>
                                <div class="vhs-font text-xs">NEON</div>
                            </div>
                            <div class="effect-card" onclick="applyFrame('none')">
                                <div class="text-2xl mb-1">‚ùå</div>
                                <div class="vhs-font text-xs">NONE</div>
                            </div>
                        </div>
                        
                        <div class="tool-section p-3">
                            <h3 class="vhs-font text-sm text-pink-400 mb-3">OVERLAYS</h3>
                            <div class="space-y-1">
                                <label class="checkbox-wrapper">
                                    <input type="checkbox" id="overlayTimestamp" onchange="toggleOverlay('timestamp')">
                                    <span class="vhs-font text-sm">üìÖ TIMESTAMP</span>
                                </label>
                                <label class="checkbox-wrapper">
                                    <input type="checkbox" id="overlayRec" onchange="toggleOverlay('rec')">
                                    <span class="vhs-font text-sm">üî¥ REC</span>
                                </label>
                                <label class="checkbox-wrapper">
                                    <input type="checkbox" id="overlayPlay" onchange="toggleOverlay('play')">
                                    <span class="vhs-font text-sm">‚ñ∂ PLAY</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </main>
    
    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-nav lg:hidden">
        <button class="mobile-nav-btn" onclick="openMobilePanel('tools')">
            <span>üîß</span>
            <span>TOOLS</span>
        </button>
        <button class="mobile-nav-btn" onclick="openMobilePanel('adjust')">
            <span>üéöÔ∏è</span>
            <span>ADJUST</span>
        </button>
        <button class="mobile-nav-btn" onclick="openMobilePanel('effects')">
            <span>‚ú®</span>
            <span>EFFECTS</span>
        </button>
        <button class="mobile-nav-btn" onclick="openMobilePanel('vintage')">
            <span>üì∑</span>
            <span>VINTAGE</span>
        </button>
        <button class="mobile-nav-btn" onclick="openMobilePanel('frames')">
            <span>üñºÔ∏è</span>
            <span>FRAMES</span>
        </button>
    </nav>
    
    <!-- Mobile Panel Overlay -->
    <div class="mobile-panel-overlay lg:hidden" id="mobilePanelOverlay" onclick="closeMobilePanel()"></div>
    
    <!-- Mobile Slide-up Panel -->
    <div class="mobile-panel lg:hidden" id="mobilePanel">
        <div class="panel-handle"></div>
        <div class="mobile-panel-header">
            <h3 class="vhs-font text-lg text-cyan-400" id="mobilePanelTitle">TOOLS</h3>
            <button onclick="closeMobilePanel()" class="btn-icon w-10 h-10">‚úï</button>
        </div>
        <div class="mobile-panel-content" id="mobilePanelContent">
            <!-- Content will be dynamically inserted -->
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>